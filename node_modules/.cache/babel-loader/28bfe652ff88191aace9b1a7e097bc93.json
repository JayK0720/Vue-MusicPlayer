{"remainingRequest":"/Users/jinkang/Desktop/Vue-MusicPlayer/node_modules/babel-loader/lib/index.js!/Users/jinkang/Desktop/Vue-MusicPlayer/node_modules/eslint-loader/index.js??ref--13-0!/Users/jinkang/Desktop/Vue-MusicPlayer/src/common/js/song.js","dependencies":[{"path":"/Users/jinkang/Desktop/Vue-MusicPlayer/src/common/js/song.js","mtime":1572104862113},{"path":"/Users/jinkang/Desktop/Vue-MusicPlayer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jinkang/Desktop/Vue-MusicPlayer/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jinkang/Desktop/Vue-MusicPlayer/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"/Users/jinkang/Desktop/Vue-MusicPlayer/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jinkang/Desktop/Vue-MusicPlayer/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport { getLyric as _getLyric } from '@/common/api/lyric';\nimport { ERR_OK } from '@/common/api/config';\nimport { Base64 } from 'js-base64';\n\nvar Song =\n/*#__PURE__*/\nfunction () {\n  function Song(_ref) {\n    var songid = _ref.songid,\n        songmid = _ref.songmid,\n        singer = _ref.singer,\n        songname = _ref.songname,\n        albumname = _ref.albumname,\n        duration = _ref.duration,\n        url = _ref.url,\n        image = _ref.image;\n\n    _classCallCheck(this, Song);\n\n    this.songid = songid;\n    this.songmid = songmid;\n    this.singer = singer;\n    this.songname = songname;\n    this.albumname = albumname;\n    this.duration = duration;\n    this.url = url;\n    this.image = image;\n  }\n\n  _createClass(Song, [{\n    key: \"getLyric\",\n    value: function getLyric() {\n      var _this = this;\n\n      _getLyric(this.songmid).then(function (res) {\n        if (res.retcode === ERR_OK) {\n          _this.lyric = Base64.decode(res.lyric);\n          console.log(_this.lyric);\n        }\n      });\n    }\n  }]);\n\n  return Song;\n}();\n\nexport function createSong(musicData) {\n  return new Song({\n    songid: musicData.songid,\n    songmid: musicData.songmid,\n    songname: musicData.songname,\n    albumname: musicData.albumname,\n    duration: musicData.interval,\n    singer: formatSinger(musicData.singer),\n    image: \"https://y.gtimg.cn/music/photo_new/T002R300x300M000\".concat(musicData.albummid, \".jpg?max_age=2592000\"),\n    url: musicData.url\n  });\n}\n\nfunction formatSinger(singer) {\n  var ret = [];\n  if (!singer.length) return '';\n  singer.forEach(function (item) {\n    ret.push(item.name);\n  });\n  return ret.join('/');\n}",{"version":3,"sources":["/Users/jinkang/Desktop/Vue-MusicPlayer/src/common/js/song.js"],"names":["getLyric","ERR_OK","Base64","Song","songid","songmid","singer","songname","albumname","duration","url","image","then","res","retcode","lyric","decode","console","log","createSong","musicData","interval","formatSinger","albummid","ret","length","forEach","item","push","name","join"],"mappings":";;;;AAAA,SAAQA,QAAQ,IAARA,SAAR,QAAuB,oBAAvB;AACA,SAAQC,MAAR,QAAqB,qBAArB;AACA,SAAQC,MAAR,QAAqB,WAArB;;IACMC,I;;;AACL,sBAA0E;AAAA,QAA7DC,MAA6D,QAA7DA,MAA6D;AAAA,QAAtDC,OAAsD,QAAtDA,OAAsD;AAAA,QAA9CC,MAA8C,QAA9CA,MAA8C;AAAA,QAAvCC,QAAuC,QAAvCA,QAAuC;AAAA,QAA9BC,SAA8B,QAA9BA,SAA8B;AAAA,QAApBC,QAAoB,QAApBA,QAAoB;AAAA,QAAXC,GAAW,QAAXA,GAAW;AAAA,QAAPC,KAAO,QAAPA,KAAO;;AAAA;;AACzE,SAAKP,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,GAAL,GAAWA,GAAX;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA;;;;+BACS;AAAA;;AACTX,MAAAA,SAAQ,CAAC,KAAKK,OAAN,CAAR,CAAuBO,IAAvB,CAA4B,UAAAC,GAAG,EAAI;AAClC,YAAGA,GAAG,CAACC,OAAJ,KAAgBb,MAAnB,EAA0B;AACzB,UAAA,KAAI,CAACc,KAAL,GAAab,MAAM,CAACc,MAAP,CAAcH,GAAG,CAACE,KAAlB,CAAb;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACH,KAAjB;AACA;AACD,OALD;AAMA;;;;;;AAGF,OAAO,SAASI,UAAT,CAAoBC,SAApB,EAA8B;AACpC,SAAO,IAAIjB,IAAJ,CAAS;AACfC,IAAAA,MAAM,EAACgB,SAAS,CAAChB,MADF;AAEfC,IAAAA,OAAO,EAACe,SAAS,CAACf,OAFH;AAGfE,IAAAA,QAAQ,EAACa,SAAS,CAACb,QAHJ;AAIfC,IAAAA,SAAS,EAACY,SAAS,CAACZ,SAJL;AAKfC,IAAAA,QAAQ,EAACW,SAAS,CAACC,QALJ;AAMff,IAAAA,MAAM,EAACgB,YAAY,CAACF,SAAS,CAACd,MAAX,CANJ;AAOfK,IAAAA,KAAK,+DAAuDS,SAAS,CAACG,QAAjE,yBAPU;AAQfb,IAAAA,GAAG,EAACU,SAAS,CAACV;AARC,GAAT,CAAP;AAUA;;AAED,SAASY,YAAT,CAAsBhB,MAAtB,EAA6B;AAC5B,MAAMkB,GAAG,GAAG,EAAZ;AACA,MAAG,CAAClB,MAAM,CAACmB,MAAX,EAAmB,OAAO,EAAP;AACnBnB,EAAAA,MAAM,CAACoB,OAAP,CAAe,UAACC,IAAD,EAAU;AACxBH,IAAAA,GAAG,CAACI,IAAJ,CAASD,IAAI,CAACE,IAAd;AACA,GAFD;AAGA,SAAOL,GAAG,CAACM,IAAJ,CAAS,GAAT,CAAP;AACA","sourcesContent":["import {getLyric} from '@/common/api/lyric'\nimport {ERR_OK} from '@/common/api/config'\nimport {Base64} from 'js-base64';\nclass Song {\n\tconstructor({songid,songmid,singer,songname,albumname,duration,url,image}){\n\t\tthis.songid = songid;\n\t\tthis.songmid = songmid;\n\t\tthis.singer = singer;\n\t\tthis.songname = songname;\n\t\tthis.albumname = albumname;\n\t\tthis.duration = duration;\n\t\tthis.url = url;\n\t\tthis.image = image;\n\t}\n\tgetLyric(){\n\t\tgetLyric(this.songmid).then(res => {\n\t\t\tif(res.retcode === ERR_OK){\n\t\t\t\tthis.lyric = Base64.decode(res.lyric);\n\t\t\t\tconsole.log(this.lyric);\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport function createSong(musicData){\n\treturn new Song({\n\t\tsongid:musicData.songid,\n\t\tsongmid:musicData.songmid,\n\t\tsongname:musicData.songname,\n\t\talbumname:musicData.albumname,\n\t\tduration:musicData.interval,\n\t\tsinger:formatSinger(musicData.singer),\n\t\timage:`https://y.gtimg.cn/music/photo_new/T002R300x300M000${musicData.albummid}.jpg?max_age=2592000`,\n\t\turl:musicData.url\n\t})\n}\n\nfunction formatSinger(singer){\n\tconst ret = [];\n\tif(!singer.length) return '';\n\tsinger.forEach((item) => {\n\t\tret.push(item.name);\n\t});\n\treturn ret.join('/');\n}"]}]}